# 自顶向下，逐步求精
“自顶向下，逐步求精的方法”在英文中称作Top-down Design，是一种计算机编程使用的算法思想，顾名思义，这种方法的思想就是对现在遇到的复杂或者抽象化的问题，进行纵向深入分解并使其被分解为多个简单的、具体化的、可解决的问题。
### from wikipedia
Top-down design  自上而下的设计

Top-down and bottom-up are both strategies of information processing and knowledge ordering, used in a variety of fields including software, humanistic and scientific theories (see systemics), and management and organization.

自上而下和自下而上都是信息处理和知识排序的策略，用于各种领域，包括软件，人文和科学理论（参见系统学），以及管理和组织。

![](http://ww1.sinaimg.cn/large/007jCw9lgy1fx6prq3t9wj30tw0gnagc.jpg)

####### 自顶而下： 
从上往下逐步分析，找出问题的关键，分解问题，把复杂的问题分成几个小阶段来进行。

####### 逐步求精： 
一步一步仔细做，把每一步都做到最好，整体就自然好了。

### 自顶向下方法的四个主要步骤

##### 1.分析问题


首先要理解问题，列出必须处理的信息。这些信息可能是问题中的数据。明确采用什么样的解决方案。如果是报表，明确要采用的格式。列出你对问题或信息的假设。思考如何手动地解决这个问题，开发一个全面的算法或通用的方案。

##### 2.编写主要模块

用自然语言或伪代码在主模块中重述问题。用模块名把问题分解成功能区块。如果主模块太长，说明这一层中的细节太多了。此时可以引用一些控制结构。如果必要，可以进行逻辑重组，把细节推延到下一层模块。 

如果目前你不知道如何解决未成文的模块，不必担心。假装你有个非常聪明的朋友知道答案，把这个问题推迟到以后再解决即可。在主模块中所要做的，只是给下一层中每个解决任务的模块一个名字，要采用含义明确的标识符。

##### 3.编写其余的模块

编写方案中的层数并不确定。每一层中的模块可以载入多个下层模块。虽然上层模块引用的是未成文的下层模块，但上层模块必须完整。不断细化每个模块，直到模块中的每条语句都是具体的步骤为止。

##### 4.根据需要进行重组和改写

为变化做好打算。不要害怕从头来过。一些尝试和细化操作是必要的。要维持透明性，简单直接地表达你的想法。

### Top-down design的优缺点
![](http://ww1.sinaimg.cn/large/007jCw9lgy1fx6q7iejosj30sf0hxtls.jpg)

### 以洗衣机为例
##### 1）“正常洗衣”程序大步骤的伪代码分解

选择洗衣模式：对应水位，注水时间   
注水， 水位计计水位   
浸泡， 计时器计时   
电机转动, 左转右转  
排水， 水位计计水位   
电机转动（脱水）   
结束  

##### 2）每个步骤详细分解的伪代码 
READ 用户选择模式  

REPEAT  
注水  
UNTILL 水位=注水要求  

REPEAT   
浸泡  
UNTILL 时间 = 时间要求  

WHILE(电机启动时间>0)  
REPEAT   
电机左转
电机右转
时间-1单位  
ENDWHILE  

WHILE(水位！= 0)  
排水  
ENDWHILE  

FOR（脱水时间>0）   
电机转动  
ENDFOR  

关闭电源  

## 小结
在结构化的程序设计中，整个程序就像是一座高楼，里面有办公室，会议厅，洗手间，和各种房间，有了这些独立的空间，就有了这一座大楼，而这些房间就好比一个个函数，构成了一串代码的关键部分，也是这串代码分解成的各个部分，结构简单易懂，同时也不易出错，是我们编程的一个好方法。